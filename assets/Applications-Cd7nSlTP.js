import{a as c,j as e,e as A,m as d,M as z,B as p,C as L}from"./index-Ck2EgO-1.js";import{u as T}from"./userService-BNfsmJ1f.js";import{C as u}from"./Card-DdUEfcKR.js";import{c as k,B as x}from"./index-CKNSqqfH.js";import{G as F}from"./GradientText-C_AMse_i.js";import{S as B}from"./search-gryArPGd.js";import{C as D}from"./calendar-9uU3rAgK.js";import{E,C as R}from"./eye-DI6Rl8dH.js";import{D as I}from"./download-pfb1Hwy0.js";import{F as j}from"./file-text-BqmSUAfM.js";import{C as M}from"./clock-F5-Yp8Wi.js";const Q=()=>{const[f,g]=c.useState([]),[y,v]=c.useState(!0),[t,N]=c.useState("all"),[a,b]=c.useState("");c.useEffect(()=>{w()},[]);const w=async()=>{try{const s=await T.getApplications();g(s.data)}catch{k.error("Failed to load applications")}finally{v(!1)}},C=s=>{switch(s){case"pending":return e.jsx(M,{className:"text-yellow-500",size:16});case"approved":return e.jsx(L,{className:"text-green-500",size:16});case"rejected":return e.jsx(R,{className:"text-red-500",size:16});default:return e.jsx(j,{className:"text-gray-500",size:16})}},S=s=>{switch(s){case"pending":return"warning";case"approved":return"success";case"rejected":return"danger";default:return"outline"}},h=f.filter(s=>{var r,i,l,n;const m=t==="all"||s.status===t,o=((i=(r=s.internship)==null?void 0:r.title)==null?void 0:i.toLowerCase().includes(a.toLowerCase()))||((n=(l=s.internship)==null?void 0:l.category)==null?void 0:n.toLowerCase().includes(a.toLowerCase()));return m&&o});return y?e.jsx(A,{fullScreen:!0}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsx(F,{className:"text-3xl font-bold mb-2",children:"My Applications"}),e.jsx("p",{className:"text-gray-600",children:"Track your internship applications and their status"})]}),e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6",children:e.jsx(u,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search applications...",value:a,onChange:s=>b(s.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:t,onChange:s=>N(s.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})})]})})}),e.jsxs("div",{className:"space-y-6",children:[h.map((s,m)=>{var o,r,i,l,n;return e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:m*.1},children:e.jsxs(u,{className:"p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:((o=s.internship)==null?void 0:o.title)||"Internship Title"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(z,{size:14}),e.jsx("span",{children:((r=s.internship)==null?void 0:r.location)||"Location"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(D,{size:14}),e.jsxs("span",{children:["Applied ",new Date(s.createdAt).toLocaleDateString()]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[C(s.status),e.jsx(x,{variant:S(s.status),children:s.status})]})]}),e.jsx("p",{className:"text-gray-700 mb-4 line-clamp-2",children:s.coverLetter}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx(x,{variant:"outline",children:((i=s.internship)==null?void 0:i.category)||"Category"}),e.jsx(x,{variant:"outline",children:((l=s.internship)==null?void 0:l.type)||"Type"}),((n=s.internship)==null?void 0:n.remote)&&e.jsx(x,{variant:"info",children:"Remote"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 lg:w-48",children:[e.jsxs(p,{variant:"outline",className:"w-full",children:[e.jsx(E,{size:16}),"View Details"]}),s.resume&&e.jsxs(p,{variant:"outline",className:"w-full",children:[e.jsx(I,{size:16}),"Download Resume"]})]})]}),s.feedback&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Feedback"}),e.jsx("p",{className:"text-gray-700",children:s.feedback})]})]})},s._id)}),h.length===0&&e.jsxs(d.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[e.jsx(j,{className:"mx-auto text-gray-400 mb-4",size:48}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Applications Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:a||t!=="all"?"Try adjusting your search or filter criteria":"You haven't applied to any internships yet"}),!a&&t==="all"&&e.jsx(p,{onClick:()=>window.location.href="/internships",children:"Browse Internships"})]})]})]})})};export{Q as default};
