import{u as g,a as n,j as e,e as N,L as l,B as i,t as b,f as x,C as m}from"./index-Ck2EgO-1.js";import{u as f}from"./userService-BNfsmJ1f.js";import{C as r}from"./Card-DdUEfcKR.js";import{C as h}from"./clock-F5-Yp8Wi.js";import{F as p}from"./file-text-BqmSUAfM.js";import{C as y}from"./calendar-9uU3rAgK.js";const k=()=>{const{user:c}=g(),[j,u]=n.useState(!0),[a,v]=n.useState({applications:[],services:[],reviews:[],stats:{totalApplications:0,totalServices:0,totalReviews:0,pendingApplications:0}});n.useEffect(()=>{(async()=>{try{const t=await f.getDashboard();v(t.data)}catch(t){console.error("Error fetching dashboard data:",t),b.error("Failed to load dashboard data")}finally{u(!1)}})()},[]);const d=(s,t)=>({pending:e.jsx(h,{className:"text-yellow-500",size:20}),reviewing:e.jsx(p,{className:"text-blue-500",size:20}),interview:e.jsx(y,{className:"text-purple-500",size:20}),accepted:e.jsx(m,{className:"text-green-500",size:20}),rejected:e.jsx(x,{className:"text-red-500",size:20}),in_progress:e.jsx(p,{className:"text-blue-500",size:20}),completed:e.jsx(m,{className:"text-green-500",size:20}),cancelled:e.jsx(x,{className:"text-red-500",size:20})})[s]||e.jsx(h,{className:"text-gray-500",size:20}),o=s=>({pending:"bg-yellow-100 text-yellow-800",reviewing:"bg-blue-100 text-blue-800",interview:"bg-purple-100 text-purple-800",accepted:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[s]||"bg-gray-100 text-gray-800";return j?e.jsx(N,{text:"Loading dashboard..."}):e.jsx("div",{className:"pt-24 pb-12",children:e.jsxs("div",{className:"container-custom",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome, ",(c==null?void 0:c.name)||"User","!"]}),e.jsx("p",{style:{color:"var(--secondary-text)"},children:"Manage your internship applications, service requests, and reviews"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-10",children:[e.jsxs(r,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Applications"}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient flex items-center justify-center text-white",children:a.stats.totalApplications})]}),e.jsx("p",{style:{color:"var(--secondary-text)"},className:"mb-4",children:"Track your internship applications"}),e.jsx(l,{to:"/user/applications",children:e.jsx(i,{variant:"outline",className:"w-full",children:"View All"})})]}),e.jsxs(r,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Services"}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient flex items-center justify-center text-white",children:a.stats.totalServices})]}),e.jsx("p",{style:{color:"var(--secondary-text)"},className:"mb-4",children:"Manage your service requests"}),e.jsx(l,{to:"/user/services",children:e.jsx(i,{variant:"outline",className:"w-full",children:"View All"})})]}),e.jsxs(r,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Reviews"}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient flex items-center justify-center text-white",children:a.stats.totalReviews})]}),e.jsx("p",{style:{color:"var(--secondary-text)"},className:"mb-4",children:"Your feedback and testimonials"}),e.jsx(l,{to:"/user/reviews",children:e.jsx(i,{variant:"outline",className:"w-full",children:"View All"})})]}),e.jsxs(r,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Pending"}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient flex items-center justify-center text-white",children:a.stats.pendingApplications})]}),e.jsx("p",{style:{color:"var(--secondary-text)"},className:"mb-4",children:"Applications under review"}),e.jsx(l,{to:"/user/applications?status=pending",children:e.jsx(i,{variant:"outline",className:"w-full",children:"View Pending"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Recent Applications"}),a.applications.length>0?e.jsxs("div",{className:"space-y-4",children:[a.applications.slice(0,3).map(s=>{var t;return e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:((t=s.internship)==null?void 0:t.title)||"Internship"}),e.jsxs("p",{style:{color:"var(--secondary-text)"},className:"text-sm mb-2",children:["Applied: ",new Date(s.createdAt).toLocaleDateString()]}),e.jsxs("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o(s.status)}`,children:[d(s.status),e.jsx("span",{className:"ml-1 capitalize",children:s.status})]})]}),e.jsx(l,{to:`/user/applications/${s._id}`,children:e.jsx(i,{variant:"ghost",size:"sm",children:"View"})})]})},s._id)}),a.applications.length>3&&e.jsx("div",{className:"text-center mt-4",children:e.jsx(l,{to:"/user/applications",className:"link",children:"View all applications"})})]}):e.jsxs(r,{className:"p-6 text-center",children:[e.jsx("p",{style:{color:"var(--secondary-text)"},className:"mb-4",children:"You haven't applied for any internships yet"}),e.jsx(l,{to:"/internships",children:e.jsx(i,{children:"Browse Internships"})})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Recent Services"}),a.services.length>0?e.jsxs("div",{className:"space-y-4",children:[a.services.slice(0,3).map(s=>{var t;return e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:((t=s.service)==null?void 0:t.title)||"Service"}),e.jsxs("p",{style:{color:"var(--secondary-text)"},className:"text-sm mb-2",children:["Requested: ",new Date(s.createdAt).toLocaleDateString()]}),e.jsxs("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o(s.status)}`,children:[d(s.status),e.jsx("span",{className:"ml-1 capitalize",children:s.status.replace("_"," ")})]})]}),e.jsx(l,{to:`/user/services/${s._id}`,children:e.jsx(i,{variant:"ghost",size:"sm",children:"View"})})]})},s._id)}),a.services.length>3&&e.jsx("div",{className:"text-center mt-4",children:e.jsx(l,{to:"/user/services",className:"link",children:"View all services"})})]}):e.jsxs(r,{className:"p-6 text-center",children:[e.jsx("p",{style:{color:"var(--secondary-text)"},className:"mb-4",children:"You haven't requested any services yet"}),e.jsx(l,{to:"/services",children:e.jsx(i,{children:"Browse Services"})})]})]})]})]})})};export{k as default};
