import{d as C,k as D,u as E,a as m,j as e,L as g,B as q,t as j,V as d}from"./index-Ck2EgO-1.js";import{I as b}from"./Input-B-VVxmdA.js";import{C as A}from"./Card-DdUEfcKR.js";const P=()=>{var p,h;const y=C(),v=D(),{login:w}=E(),[a,N]=m.useState({email:"",password:""}),[i,l]=m.useState({}),[n,u]=m.useState(!1),S=((h=(p=v.state)==null?void 0:p.from)==null?void 0:h.pathname)||"/",x=s=>{const{name:r,value:o}=s.target;N(t=>({...t,[r]:o})),i[r]&&l(t=>({...t,[r]:""}))},k=()=>{const s={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(s.email=d.email):s.email=d.required,a.password||(s.password=d.required),l(s),Object.keys(s).length===0},L=async s=>{var r,o,t,f;if(s.preventDefault(),!!k()){u(!0);try{await w(a),j.success("Login successful!"),y(S,{replace:!0})}catch(c){const I=((o=(r=c.response)==null?void 0:r.data)==null?void 0:o.message)||"Login failed. Please try again.";j.error(I),(f=(t=c.response)==null?void 0:t.data)!=null&&f.errors&&l(c.response.data.errors)}finally{u(!1)}}};return e.jsx("div",{className:"min-h-screen pt-20 pb-12 flex flex-col justify-center",children:e.jsx("div",{className:"container-custom max-w-md mx-auto",children:e.jsxs(A,{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 text-gradient",children:"Welcome Back"}),e.jsx("p",{style:{color:"var(--secondary-text)"},children:"Sign in to your account to continue"})]}),e.jsxs("form",{onSubmit:L,children:[e.jsx(b,{label:"Email Address",type:"email",name:"email",value:a.email,onChange:x,placeholder:"your@email.com",error:i.email,disabled:n,required:!0}),e.jsx(b,{label:"Password",type:"password",name:"password",value:a.password,onChange:x,placeholder:"••••••••",error:i.password,disabled:n,required:!0}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"remember",className:"mr-2"}),e.jsx("label",{htmlFor:"remember",style:{color:"var(--secondary-text)"},children:"Remember me"})]}),e.jsx(g,{to:"/forgot-password",className:"text-sm link",children:"Forgot password?"})]}),e.jsx(q,{type:"submit",variant:"gradient",className:"w-full",disabled:n,children:n?"Signing in...":"Sign In"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{style:{color:"var(--secondary-text)"},children:["Don't have an account?"," ",e.jsx(g,{to:"/register",className:"link",children:"Sign up"})]})})]})})})};export{P as default};
