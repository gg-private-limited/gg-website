import{c as y,u as M,a as c,j as e,e as F,m as o,B as r,X as j,U as g,i as R}from"./index-Ck2EgO-1.js";import{u as b}from"./userService-BNfsmJ1f.js";import{C as u}from"./Card-DdUEfcKR.js";import{B as d,c as v}from"./index-CKNSqqfH.js";import{G as q}from"./GradientText-C_AMse_i.js";import{S as B}from"./square-pen-CvUNzUUs.js";import{S as N}from"./shield-C3G-uNWg.js";import{F as L}from"./file-text-BqmSUAfM.js";import{A as U}from"./award-COj8C6SX.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],_=y("camera",V);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],H=y("save",D),Q=()=>{var f;const{user:a,updateUser:k}=M(),[p,h]=c.useState(!1),[n,m]=c.useState(!1),[t,i]=c.useState({name:"",email:"",phone:"",bio:"",location:"",skills:[],education:"",experience:""}),[x,w]=c.useState({applications:0,serviceRequests:0,reviews:0});c.useEffect(()=>{a&&i({name:a.name||"",email:a.email||"",phone:a.phone||"",bio:a.bio||"",location:a.location||"",skills:a.skills||[],education:a.education||"",experience:a.experience||""}),S()},[a]);const S=async()=>{try{const s=await b.getStats();w(s.data)}catch(s){console.error("Failed to load user stats:",s)}},z=async()=>{h(!0);try{const s=await b.updateProfile(t);k(s.data),v.success("Profile updated successfully!"),m(!1)}catch{v.error("Failed to update profile")}finally{h(!1)}},C=()=>{a&&i({name:a.name||"",email:a.email||"",phone:a.phone||"",bio:a.bio||"",location:a.location||"",skills:a.skills||[],education:a.education||"",experience:a.experience||""}),m(!1)},P=s=>{s&&!t.skills.includes(s)&&i(l=>({...l,skills:[...l.skills,s]}))},A=s=>{i(l=>({...l,skills:l.skills.filter(E=>E!==s)}))};return a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsx(q,{className:"text-3xl font-bold mb-2",children:"My Profile"}),e.jsx("p",{className:"text-gray-600",children:"Manage your personal information and preferences"})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs(u,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Personal Information"}),n?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(r,{onClick:z,disabled:p,children:[e.jsx(H,{size:16}),p?"Saving...":"Save"]}),e.jsxs(r,{onClick:C,variant:"outline",children:[e.jsx(j,{size:16}),"Cancel"]})]}):e.jsxs(r,{onClick:()=>m(!0),variant:"outline",children:[e.jsx(B,{size:16}),"Edit Profile"]})]}),e.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-2xl font-bold",children:((f=a.name)==null?void 0:f.charAt(0))||"U"}),n&&e.jsx("button",{className:"absolute -bottom-2 -right-2 bg-blue-500 text-white p-2 rounded-full hover:bg-blue-600 transition-colors",children:e.jsx(_,{size:16})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:a.name}),e.jsx("p",{className:"text-gray-600",children:a.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(d,{variant:"success",children:[e.jsx(N,{size:12}),"Verified"]}),e.jsxs(d,{variant:"outline",children:["Member since ",new Date(a.createdAt).getFullYear()]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),n?e.jsx("input",{type:"text",value:t.name,onChange:s=>i(l=>({...l,name:s.target.value})),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):e.jsx("p",{className:"p-3 bg-gray-50 rounded-lg",children:t.name||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("p",{className:"p-3 bg-gray-50 rounded-lg text-gray-600",children:t.email}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),n?e.jsx("input",{type:"tel",value:t.phone,onChange:s=>i(l=>({...l,phone:s.target.value})),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):e.jsx("p",{className:"p-3 bg-gray-50 rounded-lg",children:t.phone||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),n?e.jsx("input",{type:"text",value:t.location,onChange:s=>i(l=>({...l,location:s.target.value})),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):e.jsx("p",{className:"p-3 bg-gray-50 rounded-lg",children:t.location||"Not provided"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),n?e.jsx("textarea",{value:t.bio,onChange:s=>i(l=>({...l,bio:s.target.value})),className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"4",placeholder:"Tell us about yourself..."}):e.jsx("p",{className:"p-3 bg-gray-50 rounded-lg",children:t.bio||"No bio provided"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),n?e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:t.skills.map((s,l)=>e.jsxs(d,{variant:"outline",className:"flex items-center gap-1",children:[s,e.jsx("button",{onClick:()=>A(s),className:"ml-1 text-red-500 hover:text-red-700",children:e.jsx(j,{size:12})})]},l))}),e.jsx("input",{type:"text",placeholder:"Add a skill and press Enter",className:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:s=>{s.key==="Enter"&&(P(s.target.value.trim()),s.target.value="")}})]}):e.jsx("div",{className:"flex flex-wrap gap-2",children:t.skills.length>0?t.skills.map((s,l)=>e.jsx(d,{variant:"outline",children:s},l)):e.jsx("p",{className:"text-gray-500",children:"No skills added"})})]})]})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsxs(u,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Activity Stats"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-600",children:"Applications"})]}),e.jsx("span",{className:"font-semibold",children:x.applications})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-600",children:"Service Requests"})]}),e.jsx("span",{className:"font-semibold",children:x.serviceRequests})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"text-purple-500",size:16}),e.jsx("span",{className:"text-gray-600",children:"Reviews"})]}),e.jsx("span",{className:"font-semibold",children:x.reviews})]})]})]})}),e.jsx(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:e.jsxs(u,{className:"p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Account Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(r,{variant:"outline",className:"w-full justify-start",children:[e.jsx(N,{size:16}),"Change Password"]}),e.jsxs(r,{variant:"outline",className:"w-full justify-start",children:[e.jsx(R,{size:16}),"Email Preferences"]}),e.jsxs(r,{variant:"outline",className:"w-full justify-start",children:[e.jsx(g,{size:16}),"Privacy Settings"]})]})]})})]})]})]})}):e.jsx(F,{fullScreen:!0})};export{Q as default};
