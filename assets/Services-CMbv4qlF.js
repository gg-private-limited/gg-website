import{c as R,a as n,j as e,e as L,m,B as o,C as k}from"./index-Ck2EgO-1.js";import{u as D}from"./userService-BNfsmJ1f.js";import{C as g}from"./Card-DdUEfcKR.js";import{c as B,B as x}from"./index-CKNSqqfH.js";import{G as E}from"./GradientText-C_AMse_i.js";import{P as M}from"./plus-CCNAuJnC.js";import{S as P}from"./search-gryArPGd.js";import{C as T}from"./calendar-9uU3rAgK.js";import{D as A}from"./dollar-sign-YBQgvHpg.js";import{E as F,C as I}from"./eye-DI6Rl8dH.js";import{M as V}from"./message-circle-DMhDCbNL.js";import{C as _}from"./clock-F5-Yp8Wi.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],u=R("settings",G),ee=()=>{const[v,j]=n.useState([]),[f,y]=n.useState(!0),[a,N]=n.useState("all"),[t,b]=n.useState("");n.useEffect(()=>{w()},[]);const w=async()=>{try{const s=await D.getServiceRequests();j(s.data)}catch{B.error("Failed to load service requests")}finally{y(!1)}},S=s=>{switch(s){case"pending":return e.jsx(_,{className:"text-yellow-500",size:16});case"in-progress":return e.jsx(u,{className:"text-blue-500",size:16});case"completed":return e.jsx(k,{className:"text-green-500",size:16});case"cancelled":return e.jsx(I,{className:"text-red-500",size:16});default:return e.jsx(u,{className:"text-gray-500",size:16})}},C=s=>{switch(s){case"pending":return"warning";case"in-progress":return"info";case"completed":return"success";case"cancelled":return"danger";default:return"outline"}},z=s=>{switch(s){case"high":return"danger";case"medium":return"warning";case"low":return"success";default:return"outline"}},p=v.filter(s=>{var r,i,l,c;const h=a==="all"||s.status===a,d=((i=(r=s.service)==null?void 0:r.title)==null?void 0:i.toLowerCase().includes(t.toLowerCase()))||((c=(l=s.service)==null?void 0:l.category)==null?void 0:c.toLowerCase().includes(t.toLowerCase()));return h&&d});return f?e.jsx(L,{fullScreen:!0}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(E,{className:"text-3xl font-bold mb-2",children:"My Service Requests"}),e.jsx("p",{className:"text-gray-600",children:"Manage your service requests and track their progress"})]}),e.jsxs(o,{onClick:()=>window.location.href="/services",children:[e.jsx(M,{size:16}),"Request New Service"]})]})}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6",children:e.jsx(g,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search service requests...",value:t,onChange:s=>b(s.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:a,onChange:s=>N(s.target.value),className:"px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]})})}),e.jsxs("div",{className:"space-y-6",children:[p.map((s,h)=>{var d,r,i,l,c;return e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},children:e.jsxs(g,{className:"p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:((d=s.service)==null?void 0:d.title)||"Service Title"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{size:14}),e.jsxs("span",{children:["Requested ",new Date(s.createdAt).toLocaleDateString()]})]}),((r=s.service)==null?void 0:r.pricing)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{size:14}),e.jsxs("span",{children:["$",s.service.pricing.amount]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[S(s.status),e.jsx(x,{variant:C(s.status),children:s.status})]})]}),e.jsx("p",{className:"text-gray-700 mb-4 line-clamp-2",children:s.message}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx(x,{variant:"outline",children:((i=s.service)==null?void 0:i.category)||"Category"}),e.jsxs(x,{variant:z(s.urgency),children:[s.urgency," priority"]}),((c=(l=s.service)==null?void 0:l.pricing)==null?void 0:c.type)&&e.jsx(x,{variant:"outline",children:s.service.pricing.type})]}),s.status==="in-progress"&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.progress||0,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${s.progress||0}%`}})})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 lg:w-48",children:[e.jsxs(o,{variant:"outline",className:"w-full",children:[e.jsx(F,{size:16}),"View Details"]}),e.jsxs(o,{variant:"outline",className:"w-full",children:[e.jsx(V,{size:16}),"Contact Support"]})]})]}),s.adminNotes&&e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Admin Notes"}),e.jsx("p",{className:"text-blue-800",children:s.adminNotes})]}),s.status==="completed"&&e.jsx("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-1",children:"Service Completed"}),e.jsxs("p",{className:"text-green-800 text-sm",children:["Completed on ",new Date(s.completedAt).toLocaleDateString()]})]}),e.jsx(o,{variant:"outline",size:"sm",children:"Leave Review"})]})})]})},s._id)}),p.length===0&&e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[e.jsx(u,{className:"mx-auto text-gray-400 mb-4",size:48}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Service Requests Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:t||a!=="all"?"Try adjusting your search or filter criteria":"You haven't requested any services yet"}),!t&&a==="all"&&e.jsx(o,{onClick:()=>window.location.href="/services",children:"Browse Services"})]})]})]})})};export{ee as default};
